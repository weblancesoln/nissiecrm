{% extends "base.html" %}
{% block title %}Upload Leads - Nissie Ideal Shelters CRM{% endblock %}
{% block content %}
<div class="d-flex flex-column flex-sm-row justify-content-between align-items-stretch align-items-sm-center gap-2 mb-4">
    <h1 class="h4 mb-0"><i class="bi bi-upload"></i> Upload Leads</h1>
    <a href="{% url 'leads:lead_list' %}" class="btn btn-outline-secondary">Back to Leads</a>
</div>
<div class="row g-3">
    <div class="col-12 col-lg-8">
        <div class="card">
            <div class="card-body">
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label class="form-label">Select CSV or Excel file</label>
                        {{ form.file }}
                    </div>
                    <button type="submit" class="btn btn-primary"><i class="bi bi-upload"></i> Upload</button>
                </form>
            </div>
        </div>
    </div>
    <div class="col-12 col-lg-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Expected Columns</h5>
                <p class="small text-muted">Your file should include (column names are flexible):</p>
                <ul class="small">
                    <li><strong>first_name</strong> (required), <strong>last_name</strong></li>
                    <li>or <strong>prospect_name</strong> / name (legacy, will be split)</li>
                    <li><strong>assigned_to</strong> / staff (username of staff member)</li>
                    <li>phone_number / phone</li>
                    <li>email</li>
                    <li>point_of_contact / poc</li>
                    <li>prospect_response / response</li>
                    <li>remarks / notes</li>
                    <li>status</li>
                    <li>source</li>
                </ul>
                <a href="{% url 'leads:lead_download_template' %}" class="btn btn-outline-primary btn-sm">Download sample CSV template</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
